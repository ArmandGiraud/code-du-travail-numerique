#

include:
  - /.gitlab-ci/variables.yml
  - /.gitlab-ci/templates/docker.stage.yml
  #
  - /k8s/elasticsearch/.deploy-elasticsearch-k8s.yml
  - '/k8s/code-du-travail-data/.deploy-code-du-travail-data-k8s.yml'
  - '/k8s/code-du-travail-api/.deploy-code-du-travail-api-k8s.yml'
  - '/k8s/code-du-travail-frontend/.deploy-code-du-travail-frontend-k8s.yml'
  #
  - /.gitlab-ci/stages/prepare.yml
  - /.gitlab-ci/stages/quality.yml
  - /.gitlab-ci/stages/build-and-push.yml
  - /.gitlab-ci/stages/notify.yml
  - /.gitlab-ci/stages/deploy.yml
  #


#

stages:
- "Prepare"
- "Code Quality"
- "Registration"
- "Deploy EL Stack"
- "Create Code du Travail Numerique Elasticsearch Index"
- "Notify Finished Deployment"
- "Deploy Code du Travail Numerique"
- "Send Url"
- "Delete Pods"
